{
  "data": [
    {
      "url": "https://api.github.com/repos/langgenius/dify/issues/20975",
      "repository_url": "https://api.github.com/repos/langgenius/dify",
      "labels_url": "https://api.github.com/repos/langgenius/dify/issues/20975/labels{/name}",
      "comments_url": "https://api.github.com/repos/langgenius/dify/issues/20975/comments",
      "events_url": "https://api.github.com/repos/langgenius/dify/issues/20975/events",
      "html_url": "https://github.com/langgenius/dify/issues/20975",
      "id": 3142095370,
      "node_id": "I_kwDOJVxJus67SJIK",
      "number": 20975,
      "title": "structured outputs not working",
      "user": {
        "login": "kunimasu",
        "id": 23184567,
        "node_id": "MDQ6VXNlcjIzMTg0NTY3",
        "avatar_url": "https://avatars.githubusercontent.com/u/23184567?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kunimasu",
        "html_url": "https://github.com/kunimasu",
        "followers_url": "https://api.github.com/users/kunimasu/followers",
        "following_url": "https://api.github.com/users/kunimasu/following{/other_user}",
        "gists_url": "https://api.github.com/users/kunimasu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/kunimasu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kunimasu/subscriptions",
        "organizations_url": "https://api.github.com/users/kunimasu/orgs",
        "repos_url": "https://api.github.com/users/kunimasu/repos",
        "events_url": "https://api.github.com/users/kunimasu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/kunimasu/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 6736080616,
          "node_id": "LA_kwDOJVxJus8AAAABkYBu6A",
          "url": "https://api.github.com/repos/langgenius/dify/labels/%F0%9F%8C%8A%20feat:workflow",
          "name": "🌊 feat:workflow",
          "color": "D1CF8C",
          "default": false,
          "description": "Workflow related stuff."
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 2,
      "created_at": "2025-06-13T03:04:01Z",
      "updated_at": "2025-06-13T03:13:01Z",
      "closed_at": "2025-06-13T03:13:01Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "### Self Checks\n\n- [x] This is only for bug report, if you would like to ask a question, please head to [Discussions](https://github.com/langgenius/dify/discussions/categories/general).\n- [x] I have searched for existing issues [search for existing issues](https://github.com/langgenius/dify/issues), including closed ones.\n- [x] I confirm that I am using English to submit this report (我已阅读并同意 [Language Policy](https://github.com/langgenius/dify/issues/1542)).\n- [x] [FOR CHINESE USERS] 请务必使用英文提交 Issue，否则会被关闭。谢谢！:)\n- [x] Please do not modify this template :) and fill in all the required fields.\n\n### Dify version\n\n1.4.2\n\n### Cloud or Self Hosted\n\nSelf Hosted (Docker)\n\n### Steps to reproduce\n\n* I upgrade to 1.4.2 from 1.4.1\n* Add LLM node to workflow\n* Gemini or OpenAI model to use structured outputs\n* Set up structured outputs\n* Run workflow\n\n\n### ✔️ Expected Behavior\n\n* LLM generates Array JSON objects.\n\n### ❌ Actual Behavior\n\n* I saw just text generation\n* Also I can see ```json ... ``` text in markdown output when I instructed JSON schemer in SYSTEM prompt.",
      "closed_by": {
        "login": "kunimasu",
        "id": 23184567,
        "node_id": "MDQ6VXNlcjIzMTg0NTY3",
        "avatar_url": "https://avatars.githubusercontent.com/u/23184567?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kunimasu",
        "html_url": "https://github.com/kunimasu",
        "followers_url": "https://api.github.com/users/kunimasu/followers",
        "following_url": "https://api.github.com/users/kunimasu/following{/other_user}",
        "gists_url": "https://api.github.com/users/kunimasu/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/kunimasu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kunimasu/subscriptions",
        "organizations_url": "https://api.github.com/users/kunimasu/orgs",
        "repos_url": "https://api.github.com/users/kunimasu/repos",
        "events_url": "https://api.github.com/users/kunimasu/events{/privacy}",
        "received_events_url": "https://api.github.com/users/kunimasu/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/langgenius/dify/issues/20975/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/langgenius/dify/issues/20975/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed"
    },
    {
      "url": "https://api.github.com/repos/langgenius/dify/issues/20966",
      "repository_url": "https://api.github.com/repos/langgenius/dify",
      "labels_url": "https://api.github.com/repos/langgenius/dify/issues/20966/labels{/name}",
      "comments_url": "https://api.github.com/repos/langgenius/dify/issues/20966/comments",
      "events_url": "https://api.github.com/repos/langgenius/dify/issues/20966/events",
      "html_url": "https://github.com/langgenius/dify/pull/20966",
      "id": 3141111469,
      "node_id": "PR_kwDOJVxJus6aQzJL",
      "number": 20966,
      "title": "refactor(sqlalchemy_workflow_execution_repository): Use the max funtion for getting next_sequence_number.",
      "user": {
        "login": "laipz8200",
        "id": 16485841,
        "node_id": "MDQ6VXNlcjE2NDg1ODQx",
        "avatar_url": "https://avatars.githubusercontent.com/u/16485841?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laipz8200",
        "html_url": "https://github.com/laipz8200",
        "followers_url": "https://api.github.com/users/laipz8200/followers",
        "following_url": "https://api.github.com/users/laipz8200/following{/other_user}",
        "gists_url": "https://api.github.com/users/laipz8200/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/laipz8200/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/laipz8200/subscriptions",
        "organizations_url": "https://api.github.com/users/laipz8200/orgs",
        "repos_url": "https://api.github.com/users/laipz8200/repos",
        "events_url": "https://api.github.com/users/laipz8200/events{/privacy}",
        "received_events_url": "https://api.github.com/users/laipz8200/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 6269723781,
          "node_id": "LA_kwDOJVxJus8AAAABdbRkhQ",
          "url": "https://api.github.com/repos/langgenius/dify/labels/size:XS",
          "name": "size:XS",
          "color": "00ff00",
          "default": false,
          "description": "This PR changes 0-9 lines, ignoring generated files."
        },
        {
          "id": 6756620282,
          "node_id": "LA_kwDOJVxJus8AAAABkrnX-g",
          "url": "https://api.github.com/repos/langgenius/dify/labels/lgtm",
          "name": "lgtm",
          "color": "238636",
          "default": false,
          "description": "This PR has been approved by a maintainer"
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 0,
      "created_at": "2025-06-12T17:39:26Z",
      "updated_at": "2025-06-13T01:42:03Z",
      "closed_at": "2025-06-13T01:42:02Z",
      "author_association": "MEMBER",
      "type": null,
      "active_lock_reason": null,
      "draft": false,
      "pull_request": {
        "url": "https://api.github.com/repos/langgenius/dify/pulls/20966",
        "html_url": "https://github.com/langgenius/dify/pull/20966",
        "diff_url": "https://github.com/langgenius/dify/pull/20966.diff",
        "patch_url": "https://github.com/langgenius/dify/pull/20966.patch",
        "merged_at": "2025-06-13T01:42:02Z"
      },
      "body": "\r\n\r\n> [!IMPORTANT]\r\n>\r\n> 1. Make sure you have read our [contribution guidelines](https://github.com/langgenius/dify/blob/main/CONTRIBUTING.md)\r\n> 2. Ensure there is an associated issue and you have been assigned to it\r\n> 3. Use the correct syntax to link this PR: `Fixes #<issue number>`.\r\n\r\n## Summary\r\n\r\n<!-- Please include a summary of the change and which issue is fixed. Please also include relevant motivation and context. List any dependencies that are required for this change. -->\r\nfollow up #20455\r\n\r\n## Screenshots\r\n\r\n| Before | After |\r\n|--------|-------|\r\n| ...    | ...   |\r\n\r\n## Checklist\r\n\r\n- [ ] This change requires a documentation update, included: [Dify Document](https://github.com/langgenius/dify-docs)\r\n- [x] I understand that this PR may be closed in case there was no previous discussion or issues. (This doesn't apply to typos!)\r\n- [x] I've added a test for each change that was introduced, and I tried as much as possible to make a single atomic change.\r\n- [x] I've updated the documentation accordingly.\r\n- [x] I ran `dev/reformat`(backend) and `cd web && npx lint-staged`(frontend) to appease the lint gods\r\n",
      "closed_by": {
        "login": "laipz8200",
        "id": 16485841,
        "node_id": "MDQ6VXNlcjE2NDg1ODQx",
        "avatar_url": "https://avatars.githubusercontent.com/u/16485841?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laipz8200",
        "html_url": "https://github.com/laipz8200",
        "followers_url": "https://api.github.com/users/laipz8200/followers",
        "following_url": "https://api.github.com/users/laipz8200/following{/other_user}",
        "gists_url": "https://api.github.com/users/laipz8200/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/laipz8200/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/laipz8200/subscriptions",
        "organizations_url": "https://api.github.com/users/laipz8200/orgs",
        "repos_url": "https://api.github.com/users/laipz8200/repos",
        "events_url": "https://api.github.com/users/laipz8200/events{/privacy}",
        "received_events_url": "https://api.github.com/users/laipz8200/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/langgenius/dify/issues/20966/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/langgenius/dify/issues/20966/timeline",
      "performed_via_github_app": null,
      "state_reason": null
    },
    {
      "url": "https://api.github.com/repos/langgenius/dify/issues/19910",
      "repository_url": "https://api.github.com/repos/langgenius/dify",
      "labels_url": "https://api.github.com/repos/langgenius/dify/issues/19910/labels{/name}",
      "comments_url": "https://api.github.com/repos/langgenius/dify/issues/19910/comments",
      "events_url": "https://api.github.com/repos/langgenius/dify/issues/19910/events",
      "html_url": "https://github.com/langgenius/dify/issues/19910",
      "id": 3072889864,
      "node_id": "I_kwDOJVxJus63KJQI",
      "number": 19910,
      "title": "psycopg2.errors.DuplicateTable: relation \"task_id_sequence\" already exists",
      "user": {
        "login": "omegazeng",
        "id": 8109544,
        "node_id": "MDQ6VXNlcjgxMDk1NDQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/8109544?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/omegazeng",
        "html_url": "https://github.com/omegazeng",
        "followers_url": "https://api.github.com/users/omegazeng/followers",
        "following_url": "https://api.github.com/users/omegazeng/following{/other_user}",
        "gists_url": "https://api.github.com/users/omegazeng/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/omegazeng/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/omegazeng/subscriptions",
        "organizations_url": "https://api.github.com/users/omegazeng/orgs",
        "repos_url": "https://api.github.com/users/omegazeng/repos",
        "events_url": "https://api.github.com/users/omegazeng/events{/privacy}",
        "received_events_url": "https://api.github.com/users/omegazeng/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 6210615164,
          "node_id": "LA_kwDOJVxJus8AAAABci53fA",
          "url": "https://api.github.com/repos/langgenius/dify/labels/%F0%9F%A4%94%20cant-reproduce",
          "name": "🤔 cant-reproduce",
          "color": "BDCE78",
          "default": false,
          "description": "We can not reproduce it or the information is limited"
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 6,
      "created_at": "2025-05-19T07:52:45Z",
      "updated_at": "2025-06-13T00:49:15Z",
      "closed_at": "2025-05-20T03:27:26Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "### Self Checks\n\n- [x] This is only for bug report, if you would like to ask a question, please head to [Discussions](https://github.com/langgenius/dify/discussions/categories/general).\n- [x] I have searched for existing issues [search for existing issues](https://github.com/langgenius/dify/issues), including closed ones.\n- [x] I confirm that I am using English to submit this report (我已阅读并同意 [Language Policy](https://github.com/langgenius/dify/issues/1542)).\n- [x] [FOR CHINESE USERS] 请务必使用英文提交 Issue，否则会被关闭。谢谢！:)\n- [x] Please do not modify this template :) and fill in all the required fields.\n\n### Dify version\n\n1.4.0\n\n### Cloud or Self Hosted\n\nSelf Hosted (Docker)\n\n### Steps to reproduce\n\n# install\n```bash\nhelm repo add douban https://douban.github.io/charts/\nhelm repo update douban\nhelm upgrade --install dify douban/dify -f value.yaml -n dify --version 0.6.2\n\nkubectl exec -it -n dify dify-api-64ccd4f5bf-gml5q -- bash\nflask db upgrade\n```\n\n# init db failed\n```bash\nflask db upgrade\n```\n\n## log\n```\nINFO  [alembic.runtime.migration] Context impl PostgresqlImpl.\nINFO  [alembic.runtime.migration] Will assume transactional DDL.\nINFO  [alembic.runtime.migration] Running upgrade  -> 64b051264f32, init\nTraceback (most recent call last):\n  File \"/app/api/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/app/api/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.DuplicateTable: relation \"task_id_sequence\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/api/.venv/bin/flask\", line 10, in <module>\n    sys.exit(main())\n             ^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/flask/cli.py\", line 1129, in main\n    cli.main()\n  File \"/app/api/.venv/lib/python3.12/site-packages/click/core.py\", line 1363, in main\n    rv = self.invoke(ctx)\n         ^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/click/core.py\", line 1830, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/click/core.py\", line 1830, in invoke\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/click/core.py\", line 1226, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/click/core.py\", line 794, in invoke\n    return callback(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/click/decorators.py\", line 34, in new_func\n    return f(get_current_context(), *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/flask/cli.py\", line 400, in decorator\n    return ctx.invoke(f, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/click/core.py\", line 794, in invoke\n    return callback(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/flask_migrate/cli.py\", line 154, in upgrade\n    _upgrade(directory, revision, sql, tag, x_arg)\n  File \"/app/api/.venv/lib/python3.12/site-packages/flask_migrate/__init__.py\", line 111, in wrapped\n    f(*args, **kwargs)\n  File \"/app/api/.venv/lib/python3.12/site-packages/flask_migrate/__init__.py\", line 200, in upgrade\n    command.upgrade(config, revision, sql=sql, tag=tag)\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/command.py\", line 408, in upgrade\n    script.run_env()\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/script/base.py\", line 586, in run_env\n    util.load_python_file(self.dir, \"env.py\")\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/util/pyfiles.py\", line 95, in load_python_file\n    module = load_module_py(module_id, path)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/util/pyfiles.py\", line 113, in load_module_py\n    spec.loader.exec_module(module)  # type: ignore\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"<frozen importlib._bootstrap_external>\", line 999, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 488, in _call_with_frames_removed\n  File \"/app/api/migrations/env.py\", line 109, in <module>\n    run_migrations_online()\n  File \"/app/api/migrations/env.py\", line 103, in run_migrations_online\n    context.run_migrations()\n  File \"<string>\", line 8, in run_migrations\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/runtime/environment.py\", line 946, in run_migrations\n    self.get_context().run_migrations(**kw)\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/runtime/migration.py\", line 623, in run_migrations\n    step.migration_fn(**kw)\n  File \"/app/api/migrations/versions/64b051264f32_init.py\", line 137, in upgrade\n    op.execute('CREATE SEQUENCE task_id_sequence;')\n  File \"<string>\", line 8, in execute\n  File \"<string>\", line 3, in execute\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/operations/ops.py\", line 2552, in execute\n    return operations.invoke(op)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/operations/base.py\", line 441, in invoke\n    return fn(self, operation)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/operations/toimpl.py\", line 223, in execute_sql\n    operations.migration_context.impl.execute(\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/ddl/impl.py\", line 253, in execute\n    self._exec(sql, execution_options)\n  File \"/app/api/.venv/lib/python3.12/site-packages/alembic/ddl/impl.py\", line 246, in _exec\n    return conn.execute(construct, params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1418, in execute\n    return meth(\n           ^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py\", line 515, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1640, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/app/api/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/app/api/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/app/api/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/app/api/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py\", line 941, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.DuplicateTable) relation \"task_id_sequence\" already exists\n\n[SQL: CREATE SEQUENCE task_id_sequence;]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n```\n\n### ✔️ Expected Behavior\n\n_No response_\n\n### ❌ Actual Behavior\n\n_No response_",
      "closed_by": {
        "login": "crazywoola",
        "id": 100913391,
        "node_id": "U_kgDOBgPQ7w",
        "avatar_url": "https://avatars.githubusercontent.com/u/100913391?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/crazywoola",
        "html_url": "https://github.com/crazywoola",
        "followers_url": "https://api.github.com/users/crazywoola/followers",
        "following_url": "https://api.github.com/users/crazywoola/following{/other_user}",
        "gists_url": "https://api.github.com/users/crazywoola/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/crazywoola/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/crazywoola/subscriptions",
        "organizations_url": "https://api.github.com/users/crazywoola/orgs",
        "repos_url": "https://api.github.com/users/crazywoola/repos",
        "events_url": "https://api.github.com/users/crazywoola/events{/privacy}",
        "received_events_url": "https://api.github.com/users/crazywoola/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/langgenius/dify/issues/19910/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/langgenius/dify/issues/19910/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed"
    },
    {
      "url": "https://api.github.com/repos/langgenius/dify/issues/19515",
      "repository_url": "https://api.github.com/repos/langgenius/dify",
      "labels_url": "https://api.github.com/repos/langgenius/dify/issues/19515/labels{/name}",
      "comments_url": "https://api.github.com/repos/langgenius/dify/issues/19515/comments",
      "events_url": "https://api.github.com/repos/langgenius/dify/issues/19515/events",
      "html_url": "https://github.com/langgenius/dify/issues/19515",
      "id": 3055520338,
      "node_id": "I_kwDOJVxJus62H4pS",
      "number": 19515,
      "title": "conversation_id is missing in workflow",
      "user": {
        "login": "IamIpanda",
        "id": 1856613,
        "node_id": "MDQ6VXNlcjE4NTY2MTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1856613?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/IamIpanda",
        "html_url": "https://github.com/IamIpanda",
        "followers_url": "https://api.github.com/users/IamIpanda/followers",
        "following_url": "https://api.github.com/users/IamIpanda/following{/other_user}",
        "gists_url": "https://api.github.com/users/IamIpanda/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/IamIpanda/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/IamIpanda/subscriptions",
        "organizations_url": "https://api.github.com/users/IamIpanda/orgs",
        "repos_url": "https://api.github.com/users/IamIpanda/repos",
        "events_url": "https://api.github.com/users/IamIpanda/events{/privacy}",
        "received_events_url": "https://api.github.com/users/IamIpanda/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 5379590677,
          "node_id": "LA_kwDOJVxJus8AAAABQKYKFQ",
          "url": "https://api.github.com/repos/langgenius/dify/labels/%F0%9F%90%9E%20bug",
          "name": "🐞 bug",
          "color": "FFC300",
          "default": false,
          "description": "Something isn't working"
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": {
        "login": "laipz8200",
        "id": 16485841,
        "node_id": "MDQ6VXNlcjE2NDg1ODQx",
        "avatar_url": "https://avatars.githubusercontent.com/u/16485841?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laipz8200",
        "html_url": "https://github.com/laipz8200",
        "followers_url": "https://api.github.com/users/laipz8200/followers",
        "following_url": "https://api.github.com/users/laipz8200/following{/other_user}",
        "gists_url": "https://api.github.com/users/laipz8200/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/laipz8200/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/laipz8200/subscriptions",
        "organizations_url": "https://api.github.com/users/laipz8200/orgs",
        "repos_url": "https://api.github.com/users/laipz8200/repos",
        "events_url": "https://api.github.com/users/laipz8200/events{/privacy}",
        "received_events_url": "https://api.github.com/users/laipz8200/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "assignees": [
        {
          "login": "laipz8200",
          "id": 16485841,
          "node_id": "MDQ6VXNlcjE2NDg1ODQx",
          "avatar_url": "https://avatars.githubusercontent.com/u/16485841?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/laipz8200",
          "html_url": "https://github.com/laipz8200",
          "followers_url": "https://api.github.com/users/laipz8200/followers",
          "following_url": "https://api.github.com/users/laipz8200/following{/other_user}",
          "gists_url": "https://api.github.com/users/laipz8200/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/laipz8200/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/laipz8200/subscriptions",
          "organizations_url": "https://api.github.com/users/laipz8200/orgs",
          "repos_url": "https://api.github.com/users/laipz8200/repos",
          "events_url": "https://api.github.com/users/laipz8200/events{/privacy}",
          "received_events_url": "https://api.github.com/users/laipz8200/received_events",
          "type": "User",
          "user_view_type": "public",
          "site_admin": false
        }
      ],
      "milestone": null,
      "comments": 3,
      "created_at": "2025-05-12T03:24:36Z",
      "updated_at": "2025-06-13T03:31:20Z",
      "closed_at": "2025-06-13T03:31:20Z",
      "author_association": "CONTRIBUTOR",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "### Self Checks\n\n- [x] This is only for bug report, if you would like to ask a question, please head to [Discussions](https://github.com/langgenius/dify/discussions/categories/general).\n- [x] I have searched for existing issues [search for existing issues](https://github.com/langgenius/dify/issues), including closed ones.\n- [x] I confirm that I am using English to submit this report (我已阅读并同意 [Language Policy](https://github.com/langgenius/dify/issues/1542)).\n- [x] [FOR CHINESE USERS] 请务必使用英文提交 Issue，否则会被关闭。谢谢！:)\n- [x] Please do not modify this template :) and fill in all the required fields.\n\n### Dify version\n\n1.2.0\n\n### Cloud or Self Hosted\n\nSelf Hosted (Docker)\n\n### Steps to reproduce\n\nWrite a plugin with tools, and access its `self.session.conversation_id` inner tool.\n\n### ✔️ Expected Behavior\n\n`self.session.conversation_id` should be a value if it exists, event it's in workflow or called directly by agent.\n\nI can see the value is still correct when call in api pod _invoke method.\n\n### ❌ Actual Behavior\n\n`self.session.conversation_id` is always None when called by workflow or agent.",
      "closed_by": {
        "login": "laipz8200",
        "id": 16485841,
        "node_id": "MDQ6VXNlcjE2NDg1ODQx",
        "avatar_url": "https://avatars.githubusercontent.com/u/16485841?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/laipz8200",
        "html_url": "https://github.com/laipz8200",
        "followers_url": "https://api.github.com/users/laipz8200/followers",
        "following_url": "https://api.github.com/users/laipz8200/following{/other_user}",
        "gists_url": "https://api.github.com/users/laipz8200/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/laipz8200/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/laipz8200/subscriptions",
        "organizations_url": "https://api.github.com/users/laipz8200/orgs",
        "repos_url": "https://api.github.com/users/laipz8200/repos",
        "events_url": "https://api.github.com/users/laipz8200/events{/privacy}",
        "received_events_url": "https://api.github.com/users/laipz8200/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/langgenius/dify/issues/19515/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/langgenius/dify/issues/19515/timeline",
      "performed_via_github_app": null,
      "state_reason": "not_planned"
    },
    {
      "url": "https://api.github.com/repos/langgenius/dify/issues/19323",
      "repository_url": "https://api.github.com/repos/langgenius/dify",
      "labels_url": "https://api.github.com/repos/langgenius/dify/issues/19323/labels{/name}",
      "comments_url": "https://api.github.com/repos/langgenius/dify/issues/19323/comments",
      "events_url": "https://api.github.com/repos/langgenius/dify/issues/19323/events",
      "html_url": "https://github.com/langgenius/dify/issues/19323",
      "id": 3044899469,
      "node_id": "I_kwDOJVxJus61fXqN",
      "number": 19323,
      "title": "Issue with Content-Type for Audio Upload in Version 1.3.0",
      "user": {
        "login": "momopia",
        "id": 127702685,
        "node_id": "U_kgDOB5yWnQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/127702685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/momopia",
        "html_url": "https://github.com/momopia",
        "followers_url": "https://api.github.com/users/momopia/followers",
        "following_url": "https://api.github.com/users/momopia/following{/other_user}",
        "gists_url": "https://api.github.com/users/momopia/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/momopia/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/momopia/subscriptions",
        "organizations_url": "https://api.github.com/users/momopia/orgs",
        "repos_url": "https://api.github.com/users/momopia/repos",
        "events_url": "https://api.github.com/users/momopia/events{/privacy}",
        "received_events_url": "https://api.github.com/users/momopia/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 7681048882,
          "node_id": "LA_kwDOJVxJus8AAAABydOBMg",
          "url": "https://api.github.com/repos/langgenius/dify/labels/tts",
          "name": "tts",
          "color": "86AEB1",
          "default": false,
          "description": "issues related to audio and tts"
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 3,
      "created_at": "2025-05-07T06:52:11Z",
      "updated_at": "2025-06-13T03:41:18Z",
      "closed_at": "2025-06-13T03:41:18Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "### Self Checks\n\n- [x] This is only for bug report, if you would like to ask a question, please head to [Discussions](https://github.com/langgenius/dify/discussions/categories/general).\n- [x] I have searched for existing issues [search for existing issues](https://github.com/langgenius/dify/issues), including closed ones.\n- [x] I confirm that I am using English to submit this report (我已阅读并同意 [Language Policy](https://github.com/langgenius/dify/issues/1542)).\n- [x] [FOR CHINESE USERS] 请务必使用英文提交 Issue，否则会被关闭。谢谢！:)\n- [x] Please do not modify this template :) and fill in all the required fields.\n\n### Dify version\n\n1.3.0\n\n### Cloud or Self Hosted\n\nSelf Hosted (Docker)\n\n### Steps to reproduce\n\nIssue with Content-Type for Audio Upload in Version 1.3.0\nIn the previous version of our application, we were able to successfully upload audio files for transcription by setting the Content-Type to multipart/form-data. However, with the recent update to version 1.3.0, we encountered an issue where the Content-Type must be set to audio/mp3 in order to send the audio files. If we attempt to use any other Content-Type, we receive the following error response:\nJSON复制\n{\n\t\"code\": \"unsupported_audio_type\",\n\t\"message\": \"Audio type not allowed.\",\n\t\"status\": 415\n}\nThis change is causing a significant problem for us because we are integrating the speech-to-text functionality into a WeChat Mini Program. Unfortunately, WeChat Mini Programs have strict limitations on the Content-Type values that can be used in network requests. Specifically, the only allowed values are:\nmultipart/form-data (for file uploads)\napplication/json (for JSON data)\napplication/octet-stream (for binary data streams)\nGiven these constraints, we are unable to set the Content-Type to audio/mp3, which is now required by version 1.3.0 of our application. As a result, we are unable to use the speech-to-text functionality within the WeChat Mini Program.\nRequest for Assistance: We kindly ask for your help in resolving this issue. Is there a way to configure the API to accept multipart/form-data or application/octet-stream for audio uploads, similar to the previous version? Alternatively, if there is a workaround or an alternative approach that we can use within the constraints of WeChat Mini Programs, we would greatly appreciate your guidance.\nThank you for your attention to this matter. We look forward to your response.\n\n<!-- Failed to upload \"528982a17d3f9364be887c4b7cbc239.png\" -->\n\n<!-- Failed to upload \"ca63167975cb54d87286bd93ccf77b8.png\" -->\n\n### ✔️ Expected Behavior\n\nExpected Result:\nThe API should accept audio uploads with the Content-Type set to multipart/form-data or application/octet-stream, similar to the previous version of the application. This would allow the speech-to-text functionality to work within the constraints of WeChat Mini Programs.\n\n### ❌ Actual Behavior\n\nCurrent Result:\nThe API in version 1.3.0 only accepts audio uploads with the Content-Type set to audio/mp3. Any other Content-Type, including multipart/form-data or application/octet-stream, results in an error response with the code \"unsupported_audio_type\" and the message \"Audio type not allowed.\" This is problematic because Tencent's WeChat Mini Programs only support the following Content-Type values for network requests:\nmultipart/form-data (for file uploads)\napplication/json (for JSON data)\napplication/octet-stream (for binary data streams)",
      "closed_by": {
        "login": "momopia",
        "id": 127702685,
        "node_id": "U_kgDOB5yWnQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/127702685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/momopia",
        "html_url": "https://github.com/momopia",
        "followers_url": "https://api.github.com/users/momopia/followers",
        "following_url": "https://api.github.com/users/momopia/following{/other_user}",
        "gists_url": "https://api.github.com/users/momopia/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/momopia/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/momopia/subscriptions",
        "organizations_url": "https://api.github.com/users/momopia/orgs",
        "repos_url": "https://api.github.com/users/momopia/repos",
        "events_url": "https://api.github.com/users/momopia/events{/privacy}",
        "received_events_url": "https://api.github.com/users/momopia/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/langgenius/dify/issues/19323/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/langgenius/dify/issues/19323/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed"
    },
    {
      "url": "https://api.github.com/repos/langgenius/dify/issues/19086",
      "repository_url": "https://api.github.com/repos/langgenius/dify",
      "labels_url": "https://api.github.com/repos/langgenius/dify/issues/19086/labels{/name}",
      "comments_url": "https://api.github.com/repos/langgenius/dify/issues/19086/comments",
      "events_url": "https://api.github.com/repos/langgenius/dify/issues/19086/events",
      "html_url": "https://github.com/langgenius/dify/issues/19086",
      "id": 3027574983,
      "node_id": "I_kwDOJVxJus60dSDH",
      "number": 19086,
      "title": "Model plugin installed, interface prompts success, but the plugin list does not display",
      "user": {
        "login": "joahurtadomo",
        "id": 186526236,
        "node_id": "U_kgDOCx4qHA",
        "avatar_url": "https://avatars.githubusercontent.com/u/186526236?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/joahurtadomo",
        "html_url": "https://github.com/joahurtadomo",
        "followers_url": "https://api.github.com/users/joahurtadomo/followers",
        "following_url": "https://api.github.com/users/joahurtadomo/following{/other_user}",
        "gists_url": "https://api.github.com/users/joahurtadomo/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/joahurtadomo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/joahurtadomo/subscriptions",
        "organizations_url": "https://api.github.com/users/joahurtadomo/orgs",
        "repos_url": "https://api.github.com/users/joahurtadomo/repos",
        "events_url": "https://api.github.com/users/joahurtadomo/events{/privacy}",
        "received_events_url": "https://api.github.com/users/joahurtadomo/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 5379590677,
          "node_id": "LA_kwDOJVxJus8AAAABQKYKFQ",
          "url": "https://api.github.com/repos/langgenius/dify/labels/%F0%9F%90%9E%20bug",
          "name": "🐞 bug",
          "color": "FFC300",
          "default": false,
          "description": "Something isn't working"
        },
        {
          "id": 6210615164,
          "node_id": "LA_kwDOJVxJus8AAAABci53fA",
          "url": "https://api.github.com/repos/langgenius/dify/labels/%F0%9F%A4%94%20cant-reproduce",
          "name": "🤔 cant-reproduce",
          "color": "BDCE78",
          "default": false,
          "description": "We can not reproduce it or the information is limited"
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 17,
      "created_at": "2025-04-29T08:59:17Z",
      "updated_at": "2025-06-13T04:34:48Z",
      "closed_at": "2025-04-29T09:06:50Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "### Self Checks\n\n- [x] This is only for bug report, if you would like to ask a question, please head to [Discussions](https://github.com/langgenius/dify/discussions/categories/general).\n- [x] I have searched for existing issues [search for existing issues](https://github.com/langgenius/dify/issues), including closed ones.\n- [x] I confirm that I am using English to submit this report (我已阅读并同意 [Language Policy](https://github.com/langgenius/dify/issues/1542)).\n- [x] [FOR CHINESE USERS] 请务必使用英文提交 Issue，否则会被关闭。谢谢！:)\n- [x] Please do not modify this template :) and fill in all the required fields.\n\n### Dify version\n\n1.3.0\n\n### Cloud or Self Hosted\n\nSelf Hosted (Docker)\n\n### Steps to reproduce\n\n![Image](https://github.com/user-attachments/assets/8c1551c5-c19b-443e-b679-5f50b4d41805)\n![Image](https://github.com/user-attachments/assets/31027dec-3d9f-4f73-819a-f2abcecd890e)\n```\napi-1  | 2025-04-29 00:58:44.017 WARNING [Thread-58 (_generate_worker)] [annotation_reply.py:86] - Query annotation failed, exception: [siliconflow] Error: PluginDaemonInternalServerError: no available node, plugin not found.\napi-1  | Exception in thread Thread-60 (_retriever):\napi-1  | Traceback (most recent call last):\napi-1  |   File \"/usr/local/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\napi-1  |     self.run()\napi-1  |   File \"/usr/local/lib/python3.12/threading.py\", line 1012, in run\napi-1  |     self._target(*self._args, **self._kwargs)\napi-1  |   File \"/app/api/core/rag/retrieval/dataset_retrieval.py\", line 626, in _retriever\napi-1  |     documents = RetrievalService.retrieve(\napi-1  |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/rag/datasource/retrieval_service.py\", line 106, in retrieve\napi-1  |     raise ValueError(\";\\n\".join(exceptions))\napi-1  | ValueError: Failed to invoke text embedding\napi-1  | Exception in thread Thread-61 (_retriever):\napi-1  | Traceback (most recent call last):\napi-1  |   File \"/usr/local/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\napi-1  |     self.run()\napi-1  |   File \"/usr/local/lib/python3.12/threading.py\", line 1012, in run\napi-1  |     self._target(*self._args, **self._kwargs)\napi-1  |   File \"/app/api/core/rag/retrieval/dataset_retrieval.py\", line 626, in _retriever\napi-1  |     documents = RetrievalService.retrieve(\napi-1  |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/rag/datasource/retrieval_service.py\", line 106, in retrieve\napi-1  |     raise ValueError(\";\\n\".join(exceptions))\napi-1  | ValueError: Failed to invoke text embedding\napi-1  | Exception in thread Thread-59 (_retriever):\napi-1  | Traceback (most recent call last):\napi-1  |   File \"/usr/local/lib/python3.12/threading.py\", line 1075, in _bootstrap_inner\napi-1  |     self.run()\napi-1  |   File \"/usr/local/lib/python3.12/threading.py\", line 1012, in run\napi-1  |     self._target(*self._args, **self._kwargs)\napi-1  |   File \"/app/api/core/rag/retrieval/dataset_retrieval.py\", line 626, in _retriever\napi-1  |     documents = RetrievalService.retrieve(\napi-1  |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/rag/datasource/retrieval_service.py\", line 106, in retrieve\napi-1  |     raise ValueError(\";\\n\".join(exceptions))\napi-1  | ValueError: Failed to invoke text embedding\napi-1  | \napi-1  | [on_tool_execution]\napi-1  | Tool: current_time\napi-1  | Outputs: {\"type\":\"text\",\"message\":{\"text\":\"2025-04-29\"},\"meta\":null}\napi-1  | \napi-1  | 2025-04-29 01:02:25.323 WARNING [Dummy-62] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.335 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.363 WARNING [Dummy-64] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.378 WARNING [Dummy-62] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.385 WARNING [Dummy-64] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.393 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.412 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.423 WARNING [Dummy-64] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.439 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.451 WARNING [Dummy-64] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.460 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.477 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.492 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.508 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.525 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.540 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.557 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.573 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:02:25.589 WARNING [Dummy-63] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.369 WARNING [Dummy-65] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.387 WARNING [Dummy-66] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.406 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.423 WARNING [Dummy-65] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.446 WARNING [Dummy-66] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.457 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.470 WARNING [Dummy-65] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.485 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.497 WARNING [Dummy-65] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.658 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.685 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.710 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.738 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.759 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.788 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.814 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.830 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:03:24.844 WARNING [Dummy-67] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.042 WARNING [Dummy-68] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.074 WARNING [Dummy-69] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.090 WARNING [Dummy-68] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.098 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.106 WARNING [Dummy-69] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.126 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.140 WARNING [Dummy-69] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.161 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.176 WARNING [Dummy-69] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.192 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.212 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.230 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.248 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.271 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.296 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.314 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.334 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:27.352 WARNING [Dummy-70] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:04:48.313 WARNING [Dummy-71] [version.py:37] - Check update version error: HTTPSConnectionPool(host='updates.dify.ai', port=443): Max retries exceeded with url: /?current_version=1.3.0 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0xfffe74d23560>, 'Connection to updates.dify.ai timed out. (connect timeout=None)')).\napi-1  | 2025-04-29 01:05:29.024 WARNING [Dummy-72] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:07:02.713 WARNING [Dummy-73] [version.py:37] - Check update version error: HTTPSConnectionPool(host='updates.dify.ai', port=443): Max retries exceeded with url: /?current_version=1.3.0 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0xfffe75031880>, 'Connection to updates.dify.ai timed out. (connect timeout=None)')).\napi-1  | 2025-04-29 01:13:43.533 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.558 WARNING [Dummy-75] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.583 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.591 WARNING [Dummy-76] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.610 WARNING [Dummy-75] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.635 WARNING [Dummy-76] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.644 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.683 WARNING [Dummy-76] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.703 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.734 WARNING [Dummy-76] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.744 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.775 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.807 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.836 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.862 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.889 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.908 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.925 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:13:43.954 WARNING [Dummy-74] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:10.928 WARNING [Dummy-77] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:10.943 WARNING [Dummy-77] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:14.007 WARNING [Dummy-78] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:14.022 WARNING [Dummy-79] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:14.033 WARNING [Dummy-78] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:14.042 WARNING [Dummy-79] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:16.563 WARNING [Dummy-80] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:16.579 WARNING [Dummy-80] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:17.955 WARNING [Dummy-81] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:17.971 WARNING [Dummy-82] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:17.984 WARNING [Dummy-81] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:17.994 WARNING [Dummy-82] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:26.796 WARNING [Dummy-83] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:26.813 WARNING [Dummy-83] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:36.932 WARNING [Dummy-84] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:14:36.950 WARNING [Dummy-84] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:15.998 WARNING [Dummy-85] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:16.013 WARNING [Dummy-85] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:16.953 WARNING [Dummy-86] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:16.969 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:16.981 WARNING [Dummy-86] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:16.996 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.007 WARNING [Dummy-86] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.021 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.045 WARNING [Dummy-86] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.055 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.070 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.085 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.101 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.115 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.132 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.148 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.165 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.181 WARNING [Dummy-87] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:15:17.561 WARNING [Dummy-88] [version.py:37] - Check update version error: HTTPSConnectionPool(host='updates.dify.ai', port=443): Max retries exceeded with url: /?current_version=1.3.0 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0xfffe75f303e0>, 'Connection to updates.dify.ai timed out. (connect timeout=None)')).\napi-1  | 2025-04-29 01:24:21.310 WARNING [Dummy-89] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.106 WARNING [Dummy-90] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.120 WARNING [Dummy-91] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.129 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.154 WARNING [Dummy-90] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.160 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.175 WARNING [Dummy-91] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.329 WARNING [Dummy-91] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.337 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.360 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.372 WARNING [Dummy-91] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.380 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.395 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.412 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.428 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.445 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.461 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.476 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.491 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 01:25:31.507 WARNING [Dummy-92] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 05:37:13.544 WARNING [Dummy-93] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 05:38:36.857 WARNING [Dummy-94] [version.py:37] - Check update version error: HTTPSConnectionPool(host='updates.dify.ai', port=443): Max retries exceeded with url: /?current_version=1.3.0 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0xfffe75f083b0>, 'Connection to updates.dify.ai timed out. (connect timeout=None)')).\napi-1  | 2025-04-29 05:48:41.195 WARNING [Dummy-95] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 05:49:49.558 WARNING [Dummy-96] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 05:51:57.716 WARNING [Dummy-97] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 05:51:58.108 WARNING [Dummy-98] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | [2025-04-29 06:38:30 +0000] [1] [INFO] Handling signal: term\napi-1  | [2025-04-29 06:38:30 +0000] [18] [INFO] Worker exiting (pid: 18)\napi-1  | sys:1: ResourceWarning: unclosed <socket.socket fd=5, family=2, type=1, proto=0>\napi-1  | ResourceWarning: Enable tracemalloc to get the object allocation traceback\napi-1  | [2025-04-29 06:38:35 +0000] [1] [INFO] Shutting down: Master\napi-1  | Running migrations\napi-1  | 2025-04-29 06:39:07.340 INFO [MainThread] [utils.py:162] - NumExpr defaulting to 4 threads.\napi-1  | 2025-04-29 06:39:16.194 INFO [MainThread] [repository_registry.py:38] - Registering WorkflowNodeExecution repository with RDBMS storage\napi-1  | 2025-04-29 06:39:20.101 INFO [MainThread] [ext_otel_patch.py:63] - OpenTelemetry context.detach patched to handle None tokens\napi-1  | Preparing database migration...\napi-1  | Database migration skipped\napi-1  | [2025-04-29 06:39:23 +0000] [1] [INFO] Starting gunicorn 23.0.0\napi-1  | [2025-04-29 06:39:23 +0000] [1] [INFO] Listening at: http://0.0.0.0:5001 (1)\napi-1  | [2025-04-29 06:39:23 +0000] [1] [INFO] Using worker: gevent\napi-1  | [2025-04-29 06:39:24 +0000] [18] [INFO] Booting worker with pid: 18\napi-1  | 2025-04-29 06:39:35.367 INFO [MainThread] [utils.py:162] - NumExpr defaulting to 4 threads.\napi-1  | 2025-04-29 06:39:41.025 INFO [MainThread] [repository_registry.py:38] - Registering WorkflowNodeExecution repository with RDBMS storage\napi-1  | 2025-04-29 06:39:43.801 INFO [MainThread] [ext_otel_patch.py:63] - OpenTelemetry context.detach patched to handle None tokens\napi-1  | 2025-04-29 06:55:59.674 WARNING [Dummy-1] [version.py:37] - Check update version error: HTTPSConnectionPool(host='updates.dify.ai', port=443): Max retries exceeded with url: /?current_version=1.3.0 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0xfffbf86fa930>, 'Connection to updates.dify.ai timed out. (connect timeout=None)')).\napi-1  | 2025-04-29 07:00:10.453 WARNING [Dummy-2] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:00:10.749 WARNING [Dummy-3] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:04:21.052 WARNING [Dummy-4] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:05:54.617 WARNING [Dummy-5] [version.py:37] - Check update version error: HTTPSConnectionPool(host='updates.dify.ai', port=443): Max retries exceeded with url: /?current_version=1.3.0 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0xfffbf8528ad0>, 'Connection to updates.dify.ai timed out. (connect timeout=None)')).\napi-1  | 2025-04-29 07:15:45.272 WARNING [Dummy-6] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:16:01.537 WARNING [Dummy-7] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:17:18.393 WARNING [Dummy-8] [version.py:37] - Check update version error: HTTPSConnectionPool(host='updates.dify.ai', port=443): Max retries exceeded with url: /?current_version=1.3.0 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0xfffbf85de0f0>, 'Connection to updates.dify.ai timed out. (connect timeout=None)')).\napi-1  | 2025-04-29 07:21:06.047 WARNING [Dummy-9] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:21:14.237 WARNING [Dummy-10] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:21:18.737 WARNING [Dummy-11] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:23:25.395 WARNING [Dummy-12] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:23:27.096 WARNING [Dummy-13] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:24:23.573 ERROR [Dummy-14] [app.py:875] - Exception on /console/api/workspaces/current/model-providers/langgenius/openai_api_compatible/openai_api_compatible/models [POST]\napi-1  | Traceback (most recent call last):\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/app.py\", line 917, in full_dispatch_request\napi-1  |     rv = self.dispatch_request()\napi-1  |          ^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/app.py\", line 902, in dispatch_request\napi-1  |     return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 489, in wrapper\napi-1  |     resp = resource(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/views.py\", line 110, in view\napi-1  |     return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 604, in dispatch_request\napi-1  |     resp = meth(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/wraps.py\", line 198, in decorated\napi-1  |     return view(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/libs/login.py\", line 94, in decorated_view\napi-1  |     return current_app.ensure_sync(func)(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/wraps.py\", line 30, in decorated\napi-1  |     return view(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/workspace/models.py\", line 154, in post\napi-1  |     model_provider_service.save_model_credentials(\napi-1  |   File \"/app/api/services/model_provider_service.py\", line 237, in save_model_credentials\napi-1  |     provider_configuration.add_or_update_custom_model_credentials(\napi-1  |   File \"/app/api/core/entities/provider_configuration.py\", line 422, in add_or_update_custom_model_credentials\napi-1  |     provider_model_record, credentials = self.custom_model_credentials_validate(model_type, model, credentials)\napi-1  |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/entities/provider_configuration.py\", line 402, in custom_model_credentials_validate\napi-1  |     credentials = model_provider_factory.model_credentials_validate(\napi-1  |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/model_runtime/model_providers/model_provider_factory.py\", line 191, in model_credentials_validate\napi-1  |     self.plugin_model_manager.validate_model_credentials(\napi-1  |   File \"/app/api/core/plugin/manager/model.py\", line 137, in validate_model_credentials\napi-1  |     for resp in response:\napi-1  |                 ^^^^^^^^\napi-1  |   File \"/app/api/core/plugin/manager/base.py\", line 191, in _request_with_plugin_daemon_response_stream\napi-1  |     self._handle_plugin_daemon_error(error.error_type, error.message)\napi-1  |   File \"/app/api/core/plugin/manager/base.py\", line 225, in _handle_plugin_daemon_error\napi-1  |     raise PluginDaemonInternalServerError(description=message)\napi-1  | core.plugin.manager.exc.PluginDaemonInternalServerError: PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:31:50.541 ERROR [Dummy-15] [app.py:875] - Exception on /console/api/workspaces/current/model-providers/langgenius/openai_api_compatible/openai_api_compatible/models [POST]\napi-1  | Traceback (most recent call last):\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/app.py\", line 917, in full_dispatch_request\napi-1  |     rv = self.dispatch_request()\napi-1  |          ^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/app.py\", line 902, in dispatch_request\napi-1  |     return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 489, in wrapper\napi-1  |     resp = resource(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/views.py\", line 110, in view\napi-1  |     return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 604, in dispatch_request\napi-1  |     resp = meth(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/wraps.py\", line 198, in decorated\napi-1  |     return view(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/libs/login.py\", line 94, in decorated_view\napi-1  |     return current_app.ensure_sync(func)(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/wraps.py\", line 30, in decorated\napi-1  |     return view(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/workspace/models.py\", line 154, in post\napi-1  |     model_provider_service.save_model_credentials(\napi-1  |   File \"/app/api/services/model_provider_service.py\", line 237, in save_model_credentials\napi-1  |     provider_configuration.add_or_update_custom_model_credentials(\napi-1  |   File \"/app/api/core/entities/provider_configuration.py\", line 422, in add_or_update_custom_model_credentials\napi-1  |     provider_model_record, credentials = self.custom_model_credentials_validate(model_type, model, credentials)\napi-1  |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/entities/provider_configuration.py\", line 402, in custom_model_credentials_validate\napi-1  |     credentials = model_provider_factory.model_credentials_validate(\napi-1  |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/model_runtime/model_providers/model_provider_factory.py\", line 191, in model_credentials_validate\napi-1  |     self.plugin_model_manager.validate_model_credentials(\napi-1  |   File \"/app/api/core/plugin/manager/model.py\", line 137, in validate_model_credentials\napi-1  |     for resp in response:\napi-1  |                 ^^^^^^^^\napi-1  |   File \"/app/api/core/plugin/manager/base.py\", line 191, in _request_with_plugin_daemon_response_stream\napi-1  |     self._handle_plugin_daemon_error(error.error_type, error.message)\napi-1  |   File \"/app/api/core/plugin/manager/base.py\", line 225, in _handle_plugin_daemon_error\napi-1  |     raise PluginDaemonInternalServerError(description=message)\napi-1  | core.plugin.manager.exc.PluginDaemonInternalServerError: PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:31:51.938 ERROR [Dummy-16] [app.py:875] - Exception on /console/api/workspaces/current/model-providers/langgenius/openai_api_compatible/openai_api_compatible/models [POST]\napi-1  | Traceback (most recent call last):\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/app.py\", line 917, in full_dispatch_request\napi-1  |     rv = self.dispatch_request()\napi-1  |          ^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/app.py\", line 902, in dispatch_request\napi-1  |     return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 489, in wrapper\napi-1  |     resp = resource(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/views.py\", line 110, in view\napi-1  |     return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 604, in dispatch_request\napi-1  |     resp = meth(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/wraps.py\", line 198, in decorated\napi-1  |     return view(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/libs/login.py\", line 94, in decorated_view\napi-1  |     return current_app.ensure_sync(func)(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/wraps.py\", line 30, in decorated\napi-1  |     return view(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/workspace/models.py\", line 154, in post\napi-1  |     model_provider_service.save_model_credentials(\napi-1  |   File \"/app/api/services/model_provider_service.py\", line 237, in save_model_credentials\napi-1  |     provider_configuration.add_or_update_custom_model_credentials(\napi-1  |   File \"/app/api/core/entities/provider_configuration.py\", line 422, in add_or_update_custom_model_credentials\napi-1  |     provider_model_record, credentials = self.custom_model_credentials_validate(model_type, model, credentials)\napi-1  |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/entities/provider_configuration.py\", line 402, in custom_model_credentials_validate\napi-1  |     credentials = model_provider_factory.model_credentials_validate(\napi-1  |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/model_runtime/model_providers/model_provider_factory.py\", line 191, in model_credentials_validate\napi-1  |     self.plugin_model_manager.validate_model_credentials(\napi-1  |   File \"/app/api/core/plugin/manager/model.py\", line 137, in validate_model_credentials\napi-1  |     for resp in response:\napi-1  |                 ^^^^^^^^\napi-1  |   File \"/app/api/core/plugin/manager/base.py\", line 191, in _request_with_plugin_daemon_response_stream\napi-1  |     self._handle_plugin_daemon_error(error.error_type, error.message)\napi-1  |   File \"/app/api/core/plugin/manager/base.py\", line 225, in _handle_plugin_daemon_error\napi-1  |     raise PluginDaemonInternalServerError(description=message)\napi-1  | core.plugin.manager.exc.PluginDaemonInternalServerError: PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:32:01.274 ERROR [Dummy-17] [app.py:875] - Exception on /console/api/workspaces/current/model-providers/langgenius/openai_api_compatible/openai_api_compatible/models [POST]\napi-1  | Traceback (most recent call last):\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/app.py\", line 917, in full_dispatch_request\napi-1  |     rv = self.dispatch_request()\napi-1  |          ^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/app.py\", line 902, in dispatch_request\napi-1  |     return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 489, in wrapper\napi-1  |     resp = resource(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask/views.py\", line 110, in view\napi-1  |     return current_app.ensure_sync(self.dispatch_request)(**kwargs)  # type: ignore[no-any-return]\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/.venv/lib/python3.12/site-packages/flask_restful/__init__.py\", line 604, in dispatch_request\napi-1  |     resp = meth(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/wraps.py\", line 198, in decorated\napi-1  |     return view(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/libs/login.py\", line 94, in decorated_view\napi-1  |     return current_app.ensure_sync(func)(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/wraps.py\", line 30, in decorated\napi-1  |     return view(*args, **kwargs)\napi-1  |            ^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/controllers/console/workspace/models.py\", line 154, in post\napi-1  |     model_provider_service.save_model_credentials(\napi-1  |   File \"/app/api/services/model_provider_service.py\", line 237, in save_model_credentials\napi-1  |     provider_configuration.add_or_update_custom_model_credentials(\napi-1  |   File \"/app/api/core/entities/provider_configuration.py\", line 422, in add_or_update_custom_model_credentials\napi-1  |     provider_model_record, credentials = self.custom_model_credentials_validate(model_type, model, credentials)\napi-1  |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/entities/provider_configuration.py\", line 402, in custom_model_credentials_validate\napi-1  |     credentials = model_provider_factory.model_credentials_validate(\napi-1  |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\napi-1  |   File \"/app/api/core/model_runtime/model_providers/model_provider_factory.py\", line 191, in model_credentials_validate\napi-1  |     self.plugin_model_manager.validate_model_credentials(\napi-1  |   File \"/app/api/core/plugin/manager/model.py\", line 137, in validate_model_credentials\napi-1  |     for resp in response:\napi-1  |                 ^^^^^^^^\napi-1  |   File \"/app/api/core/plugin/manager/base.py\", line 191, in _request_with_plugin_daemon_response_stream\napi-1  |     self._handle_plugin_daemon_error(error.error_type, error.message)\napi-1  |   File \"/app/api/core/plugin/manager/base.py\", line 225, in _handle_plugin_daemon_error\napi-1  |     raise PluginDaemonInternalServerError(description=message)\napi-1  | core.plugin.manager.exc.PluginDaemonInternalServerError: PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 07:36:53.690 WARNING [Dummy-18] [version.py:37] - Check update version error: HTTPSConnectionPool(host='updates.dify.ai', port=443): Max retries exceeded with url: /?current_version=1.3.0 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0xfffbf8568620>, 'Connection to updates.dify.ai timed out. (connect timeout=None)')).\napi-1  | [2025-04-29 08:19:37 +0000] [1] [INFO] Handling signal: term\napi-1  | [2025-04-29 08:19:37 +0000] [18] [INFO] Worker exiting (pid: 18)\napi-1  | [2025-04-29 08:19:41 +0000] [1] [INFO] Shutting down: Master\napi-1  | Running migrations\napi-1  | 2025-04-29 08:20:06.714 INFO [MainThread] [utils.py:162] - NumExpr defaulting to 4 threads.\napi-1  | 2025-04-29 08:20:13.898 INFO [MainThread] [repository_registry.py:38] - Registering WorkflowNodeExecution repository with RDBMS storage\napi-1  | 2025-04-29 08:20:17.023 INFO [MainThread] [ext_otel_patch.py:63] - OpenTelemetry context.detach patched to handle None tokens\napi-1  | Preparing database migration...\napi-1  | Starting database migration.\napi-1  | INFO  [alembic.runtime.migration] Context impl PostgresqlImpl.\napi-1  | INFO  [alembic.runtime.migration] Will assume transactional DDL.\napi-1  | Database migration successful!\napi-1  | [2025-04-29 08:20:22 +0000] [1] [INFO] Starting gunicorn 23.0.0\napi-1  | [2025-04-29 08:20:22 +0000] [1] [INFO] Listening at: http://0.0.0.0:5001 (1)\napi-1  | [2025-04-29 08:20:22 +0000] [1] [INFO] Using worker: gevent\napi-1  | [2025-04-29 08:20:22 +0000] [18] [INFO] Booting worker with pid: 18\napi-1  | 2025-04-29 08:20:33.198 INFO [MainThread] [utils.py:162] - NumExpr defaulting to 4 threads.\napi-1  | 2025-04-29 08:20:38.880 INFO [MainThread] [repository_registry.py:38] - Registering WorkflowNodeExecution repository with RDBMS storage\napi-1  | 2025-04-29 08:20:41.779 INFO [MainThread] [ext_otel_patch.py:63] - OpenTelemetry context.detach patched to handle None tokens\napi-1  | 2025-04-29 08:24:19.897 WARNING [Dummy-1] [version.py:37] - Check update version error: HTTPSConnectionPool(host='updates.dify.ai', port=443): Max retries exceeded with url: /?current_version=1.3.0 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0xfffbc47bad50>, 'Connection to updates.dify.ai timed out. (connect timeout=None)')).\napi-1  | 2025-04-29 08:25:45.943 WARNING [Dummy-2] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 08:29:02.115 WARNING [Dummy-3] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 08:29:02.368 WARNING [Dummy-4] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 08:33:38.701 WARNING [Dummy-5] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 08:33:38.941 WARNING [Dummy-6] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 08:48:53.612 WARNING [Dummy-7] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 08:48:54.748 WARNING [Dummy-8] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 08:49:42.492 WARNING [Dummy-9] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 08:50:09.838 WARNING [Dummy-10] [provider_configuration.py:989] - get custom model schema failed, PluginDaemonInternalServerError: no available node, plugin not found\napi-1  | 2025-04-29 08:51:16.537 WARNING [Dummy-11] [version.py:37] - Check update version error: HTTPSConnectionPool(host='updates.dify.ai', port=443): Max retries exceeded with url: /?current_version=1.3.0 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0xfffbc435bfe0>, 'Connection to updates.dify.ai timed out. (connect timeout=None)')).\n```\n\n### ✔️ Expected Behavior\n\n_No response_\n\n### ❌ Actual Behavior\n\n_No response_",
      "closed_by": {
        "login": "crazywoola",
        "id": 100913391,
        "node_id": "U_kgDOBgPQ7w",
        "avatar_url": "https://avatars.githubusercontent.com/u/100913391?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/crazywoola",
        "html_url": "https://github.com/crazywoola",
        "followers_url": "https://api.github.com/users/crazywoola/followers",
        "following_url": "https://api.github.com/users/crazywoola/following{/other_user}",
        "gists_url": "https://api.github.com/users/crazywoola/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/crazywoola/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/crazywoola/subscriptions",
        "organizations_url": "https://api.github.com/users/crazywoola/orgs",
        "repos_url": "https://api.github.com/users/crazywoola/repos",
        "events_url": "https://api.github.com/users/crazywoola/events{/privacy}",
        "received_events_url": "https://api.github.com/users/crazywoola/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/langgenius/dify/issues/19086/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/langgenius/dify/issues/19086/timeline",
      "performed_via_github_app": null,
      "state_reason": "duplicate"
    },
    {
      "url": "https://api.github.com/repos/langgenius/dify/issues/9931",
      "repository_url": "https://api.github.com/repos/langgenius/dify",
      "labels_url": "https://api.github.com/repos/langgenius/dify/issues/9931/labels{/name}",
      "comments_url": "https://api.github.com/repos/langgenius/dify/issues/9931/comments",
      "events_url": "https://api.github.com/repos/langgenius/dify/issues/9931/events",
      "html_url": "https://github.com/langgenius/dify/issues/9931",
      "id": 2617438556,
      "node_id": "I_kwDOJVxJus6cAvFc",
      "number": 9931,
      "title": "Can the \"Next Suggested Question\" module return three questions based on QA knowledge base calculations?",
      "user": {
        "login": "tigflanker",
        "id": 22868157,
        "node_id": "MDQ6VXNlcjIyODY4MTU3",
        "avatar_url": "https://avatars.githubusercontent.com/u/22868157?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/tigflanker",
        "html_url": "https://github.com/tigflanker",
        "followers_url": "https://api.github.com/users/tigflanker/followers",
        "following_url": "https://api.github.com/users/tigflanker/following{/other_user}",
        "gists_url": "https://api.github.com/users/tigflanker/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/tigflanker/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tigflanker/subscriptions",
        "organizations_url": "https://api.github.com/users/tigflanker/orgs",
        "repos_url": "https://api.github.com/users/tigflanker/repos",
        "events_url": "https://api.github.com/users/tigflanker/events{/privacy}",
        "received_events_url": "https://api.github.com/users/tigflanker/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 5,
      "created_at": "2024-10-28T06:22:44Z",
      "updated_at": "2025-06-13T03:37:41Z",
      "closed_at": "2024-10-28T06:24:06Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "### Self Checks\n\n- [X] I have searched for existing issues [search for existing issues](https://github.com/langgenius/dify/issues), including closed ones.\n- [X] I confirm that I am using English to submit this report (我已阅读并同意 [Language Policy](https://github.com/langgenius/dify/issues/1542)).\n- [X] [FOR CHINESE USERS] 请务必使用英文提交 Issue，否则会被关闭。谢谢！:）\n- [X] Please do not modify this template :) and fill in all the required fields.\n\n### 1. Is this request related to a challenge you're experiencing? Tell me about your story.\n\nIn the \"Next Suggested Question\" feature module, if it is possible to enable calculations related to the QA-type knowledge base and return the three most similar questions, it could be very useful. \r\n\r\nFor example, if the user's question is \"annual card,\" the three questions with the highest sentence similarity in the knowledge base are: \"What should be done with the annual card?\", \"How much does the annual card cost?\", and \"What is the annual card?\". \r\n\r\nThey all come from the Questions in the QA knowledge base and/or the Questions in the annotated responses.\r\n\r\nThanks to the R&D experts in the project team.\n\n### 2. Additional context or comments\n\n_No response_\n\n### 3. Can you help us with this feature?\n\n- [ ] I am interested in contributing to this feature.",
      "closed_by": {
        "login": "crazywoola",
        "id": 100913391,
        "node_id": "U_kgDOBgPQ7w",
        "avatar_url": "https://avatars.githubusercontent.com/u/100913391?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/crazywoola",
        "html_url": "https://github.com/crazywoola",
        "followers_url": "https://api.github.com/users/crazywoola/followers",
        "following_url": "https://api.github.com/users/crazywoola/following{/other_user}",
        "gists_url": "https://api.github.com/users/crazywoola/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/crazywoola/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/crazywoola/subscriptions",
        "organizations_url": "https://api.github.com/users/crazywoola/orgs",
        "repos_url": "https://api.github.com/users/crazywoola/repos",
        "events_url": "https://api.github.com/users/crazywoola/events{/privacy}",
        "received_events_url": "https://api.github.com/users/crazywoola/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/langgenius/dify/issues/9931/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/langgenius/dify/issues/9931/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed"
    },
    {
      "url": "https://api.github.com/repos/langgenius/dify/issues/9720",
      "repository_url": "https://api.github.com/repos/langgenius/dify",
      "labels_url": "https://api.github.com/repos/langgenius/dify/issues/9720/labels{/name}",
      "comments_url": "https://api.github.com/repos/langgenius/dify/issues/9720/comments",
      "events_url": "https://api.github.com/repos/langgenius/dify/issues/9720/events",
      "html_url": "https://github.com/langgenius/dify/issues/9720",
      "id": 2608022241,
      "node_id": "I_kwDOJVxJus6bc0Lh",
      "number": 9720,
      "title": "Tencent Hunyuan large model encounters an error when connected to the workflow.",
      "user": {
        "login": "KS-OTO",
        "id": 6616413,
        "node_id": "MDQ6VXNlcjY2MTY0MTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6616413?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/KS-OTO",
        "html_url": "https://github.com/KS-OTO",
        "followers_url": "https://api.github.com/users/KS-OTO/followers",
        "following_url": "https://api.github.com/users/KS-OTO/following{/other_user}",
        "gists_url": "https://api.github.com/users/KS-OTO/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/KS-OTO/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/KS-OTO/subscriptions",
        "organizations_url": "https://api.github.com/users/KS-OTO/orgs",
        "repos_url": "https://api.github.com/users/KS-OTO/repos",
        "events_url": "https://api.github.com/users/KS-OTO/events{/privacy}",
        "received_events_url": "https://api.github.com/users/KS-OTO/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 6311508862,
          "node_id": "LA_kwDOJVxJus8AAAABeDH7fg",
          "url": "https://api.github.com/repos/langgenius/dify/labels/%E2%9A%99%EF%B8%8F%20feat:model-runtime",
          "name": "⚙️ feat:model-runtime",
          "color": "6E105B",
          "default": false,
          "description": ""
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 2,
      "created_at": "2024-10-23T10:04:21Z",
      "updated_at": "2025-06-13T03:01:58Z",
      "closed_at": "2024-10-23T10:09:24Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "### Self Checks\n\n- [X] This is only for bug report, if you would like to ask a question, please head to [Discussions](https://github.com/langgenius/dify/discussions/categories/general).\n- [X] I have searched for existing issues [search for existing issues](https://github.com/langgenius/dify/issues), including closed ones.\n- [X] I confirm that I am using English to submit this report (我已阅读并同意 [Language Policy](https://github.com/langgenius/dify/issues/1542)).\n- [X] [FOR CHINESE USERS] 请务必使用英文提交 Issue，否则会被关闭。谢谢！:）\n- [X] Please do not modify this template :) and fill in all the required fields.\n\n### Dify version\n\n0.10.0\n\n### Cloud or Self Hosted\n\nSelf Hosted (Docker)\n\n### Steps to reproduce\n\nIn the workflow configuration, when introducing Tencent Hunyuan large model, an error is reported.\r\nDSL：https://easychuan.cn/r/jkfpz?t=nf \r\n![image](https://github.com/user-attachments/assets/eca1520b-a590-4020-84f2-6781b574d060)\r\n\n\n### ✔️ Expected Behavior\n\n_No response_\n\n### ❌ Actual Behavior\n\n_No response_",
      "closed_by": {
        "login": "KS-OTO",
        "id": 6616413,
        "node_id": "MDQ6VXNlcjY2MTY0MTM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6616413?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/KS-OTO",
        "html_url": "https://github.com/KS-OTO",
        "followers_url": "https://api.github.com/users/KS-OTO/followers",
        "following_url": "https://api.github.com/users/KS-OTO/following{/other_user}",
        "gists_url": "https://api.github.com/users/KS-OTO/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/KS-OTO/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/KS-OTO/subscriptions",
        "organizations_url": "https://api.github.com/users/KS-OTO/orgs",
        "repos_url": "https://api.github.com/users/KS-OTO/repos",
        "events_url": "https://api.github.com/users/KS-OTO/events{/privacy}",
        "received_events_url": "https://api.github.com/users/KS-OTO/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/langgenius/dify/issues/9720/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/langgenius/dify/issues/9720/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed"
    },
    {
      "url": "https://api.github.com/repos/langgenius/dify/issues/9353",
      "repository_url": "https://api.github.com/repos/langgenius/dify",
      "labels_url": "https://api.github.com/repos/langgenius/dify/issues/9353/labels{/name}",
      "comments_url": "https://api.github.com/repos/langgenius/dify/issues/9353/comments",
      "events_url": "https://api.github.com/repos/langgenius/dify/issues/9353/events",
      "html_url": "https://github.com/langgenius/dify/issues/9353",
      "id": 2587517931,
      "node_id": "I_kwDOJVxJus6aOmPr",
      "number": 9353,
      "title": "no route to host",
      "user": {
        "login": "sofs2005",
        "id": 14013284,
        "node_id": "MDQ6VXNlcjE0MDEzMjg0",
        "avatar_url": "https://avatars.githubusercontent.com/u/14013284?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sofs2005",
        "html_url": "https://github.com/sofs2005",
        "followers_url": "https://api.github.com/users/sofs2005/followers",
        "following_url": "https://api.github.com/users/sofs2005/following{/other_user}",
        "gists_url": "https://api.github.com/users/sofs2005/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/sofs2005/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sofs2005/subscriptions",
        "organizations_url": "https://api.github.com/users/sofs2005/orgs",
        "repos_url": "https://api.github.com/users/sofs2005/repos",
        "events_url": "https://api.github.com/users/sofs2005/events{/privacy}",
        "received_events_url": "https://api.github.com/users/sofs2005/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "labels": [
        {
          "id": 5379590677,
          "node_id": "LA_kwDOJVxJus8AAAABQKYKFQ",
          "url": "https://api.github.com/repos/langgenius/dify/labels/%F0%9F%90%9E%20bug",
          "name": "🐞 bug",
          "color": "FFC300",
          "default": false,
          "description": "Something isn't working"
        },
        {
          "id": 6210615164,
          "node_id": "LA_kwDOJVxJus8AAAABci53fA",
          "url": "https://api.github.com/repos/langgenius/dify/labels/%F0%9F%A4%94%20cant-reproduce",
          "name": "🤔 cant-reproduce",
          "color": "BDCE78",
          "default": false,
          "description": "We can not reproduce it or the information is limited"
        }
      ],
      "state": "closed",
      "locked": false,
      "assignee": null,
      "assignees": [],
      "milestone": null,
      "comments": 6,
      "created_at": "2024-10-15T03:19:46Z",
      "updated_at": "2025-06-13T02:41:12Z",
      "closed_at": "2024-10-15T03:25:40Z",
      "author_association": "NONE",
      "type": null,
      "active_lock_reason": null,
      "sub_issues_summary": {
        "total": 0,
        "completed": 0,
        "percent_completed": 0
      },
      "body": "### Self Checks\n\n- [X] This is only for bug report, if you would like to ask a question, please head to [Discussions](https://github.com/langgenius/dify/discussions/categories/general).\n- [X] I have searched for existing issues [search for existing issues](https://github.com/langgenius/dify/issues), including closed ones.\n- [X] I confirm that I am using English to submit this report (我已阅读并同意 [Language Policy](https://github.com/langgenius/dify/issues/1542)).\n- [X] [FOR CHINESE USERS] 请务必使用英文提交 Issue，否则会被关闭。谢谢！:）\n- [X] Please do not modify this template :) and fill in all the required fields.\n\n### Dify version\n\n0.9.2\n\n### Cloud or Self Hosted\n\nSelf Hosted (Docker)\n\n### Steps to reproduce\n\nI have successfully run the Dify server using Docker Compose, and I can connect to external APIs. However, I also deployed an API server on my local network, and when I tried to add it in the OpenAI-API-compatible section, I received an error stating that the route could not be obtained. This api can work on other applications with the same settings\n\n### ✔️ Expected Behavior\n\ncan connect to api on LAN network\n\n### ❌ Actual Behavior\n\nRaise error message:\r\nAn error occurred during credentials validation: HTTPConnectionPool(host='10.6.6.89', port=8000): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x147930c8c5e0>: Failed to establish a new connection: [Errno 113] No route to host')).",
      "closed_by": {
        "login": "crazywoola",
        "id": 100913391,
        "node_id": "U_kgDOBgPQ7w",
        "avatar_url": "https://avatars.githubusercontent.com/u/100913391?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/crazywoola",
        "html_url": "https://github.com/crazywoola",
        "followers_url": "https://api.github.com/users/crazywoola/followers",
        "following_url": "https://api.github.com/users/crazywoola/following{/other_user}",
        "gists_url": "https://api.github.com/users/crazywoola/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/crazywoola/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/crazywoola/subscriptions",
        "organizations_url": "https://api.github.com/users/crazywoola/orgs",
        "repos_url": "https://api.github.com/users/crazywoola/repos",
        "events_url": "https://api.github.com/users/crazywoola/events{/privacy}",
        "received_events_url": "https://api.github.com/users/crazywoola/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
      },
      "reactions": {
        "url": "https://api.github.com/repos/langgenius/dify/issues/9353/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "timeline_url": "https://api.github.com/repos/langgenius/dify/issues/9353/timeline",
      "performed_via_github_app": null,
      "state_reason": "completed"
    }
  ],
  "created_at": 1749792211.2031565,
  "expires_at": 1749795811.203157
}